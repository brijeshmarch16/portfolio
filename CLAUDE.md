# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Next.js 16 portfolio and blog application built with React 19, TypeScript, and Tailwind CSS v4. The project uses Fumadocs for MDX-based blog content and includes dynamic OG image generation, JSON-LD structured data, and Vercel Analytics integration.

## Development Commands

```bash
# Install dependencies
pnpm install

# Start development server (runs on http://localhost:3000)
pnpm dev

# Build for production
pnpm build

# Start production server
pnpm start

# Lint code with Biome
pnpm lint

# Format code with Biome
pnpm format
```

## Code Architecture

### Directory Structure

- **`src/app/`** - Next.js App Router pages and API routes
  - `(home)/` - Home page route group
  - `(blog)/blog/` - Blog listing and individual post pages
  - `og/` - Dynamic OG image generation routes
  - `layout.tsx` - Root layout with theme provider, fonts, and global metadata
  - `robots.ts` - Generates robots.txt
  - `sitemap.ts` - Generates sitemap.xml

- **`src/features/`** - Feature-based organization
  - `home/` - Homepage-specific components, data, and types
    - `components/` - Section components (hero, about, projects, stack, experience, blog, contact)
    - `data/home-data.ts` - Static content data (projects, stack, work experience)
    - `types/` - TypeScript types for home features
  - `global/` - Shared global features
    - `components/` - Navbar, ThemeProvider
    - `config/navigation.ts` - Navigation configuration

- **`src/components/`** - Shared components
  - `ui/` - Reusable UI components (button, card, badge, table, etc.)
  - MDX-related components (mdx-component, code-block, component-showcase, component-source, component-install)
  - `og-image.tsx` - OG image component
  - `json-ld.tsx` - JSON-LD structured data component

- **`src/content/blog/`** - MDX blog posts
  - Blog posts are authored in MDX format
  - Fumadocs processes these files at build time

- **`src/lib/`** - Utility functions and configurations
  - `site-config.ts` - Site metadata, author info, social links
  - `metadata.ts` - Metadata generation helpers
  - `json-ld.ts` - JSON-LD schema creation
  - `source.ts` - Fumadocs source configuration
  - `utils.ts` - General utilities

- **`.source/`** - Generated by Fumadocs MDX at build time (do not edit manually)

### Key Technical Details

**Next.js Configuration:**
- React Compiler enabled (`reactCompiler: true`)
- Typed routes enabled (`typedRoutes: true`)
- Experimental typed environment variables enabled
- MDX integration via Fumadocs (`source.config.ts`)

**Path Aliases:**
- `@/*` - Points to `src/*`
- `fumadocs-mdx:collections/*` - Points to `.source/*` (generated Fumadocs content)

**Styling:**
- Tailwind CSS v4 with custom RetroUI component registry
- Uses CSS variables for theming (light/dark mode)
- Component library: shadcn/ui (New York style variant)
- Custom fonts: Archivo Black (headings) and Space Grotesk (body)

**Blog System:**
- Powered by Fumadocs MDX with collections
- Blog schema includes: `title`, `description`, `image`, `createdAt`, `updatedAt`
- MDX files are located in `src/content/blog/`
- Configuration in `source.config.ts`
- Syntax highlighting with GitHub Light/Dark themes

**Code Quality:**
- Biome for linting and formatting (not ESLint/Prettier)
- Configured for Next.js and React best practices
- Auto-sorts Tailwind classes via `useSortedClasses` rule
- Organizes imports automatically

**SEO & Metadata:**
- Dynamic metadata generation in page files
- JSON-LD structured data (Person, WebSite, BlogPosting schemas)
- Dynamic OG images for blog posts at `/og/blog/[slug]`
- Sitemap and robots.txt automatically generated

**Theme System:**
- Uses `next-themes` for dark/light mode
- System preference detection enabled
- Theme persisted across sessions
- Theme switcher in Navbar component

### Data Management

**Site Configuration (`src/lib/site-config.ts`):**
- Centralizes site metadata, author info, and social links
- `baseUrl` automatically switches between localhost (dev) and production URL
- Update this file to change site-wide information

**Home Page Data (`src/features/home/data/home-data.ts`):**
- All homepage content is centralized here
- Contains: personal info, about text, tech stack, work experience, projects, contact info
- Edit this file to update homepage content without touching component code

### Component Patterns

**Feature Components:**
- Feature-specific components live in `src/features/{feature-name}/components/`
- Shared/reusable UI components live in `src/components/ui/`

**UI Components:**
- Built with Radix UI primitives and styled with Tailwind
- Use `class-variance-authority` (cva) for variant management
- Utility functions use `tailwind-merge` and `clsx` via `cn()` helper

### Environment Variables

Set up `.env` file based on `.env.example`:
- `NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION` - Google Search Console verification code

## Adding Blog Posts

1. Create a new `.mdx` file in `src/content/blog/`
2. Add frontmatter:
   ```yaml
   ---
   title: "Your Post Title"
   description: "Post description for SEO"
   image: "/path/to/image.png" (optional)
   createdAt: "YYYY-MM-DD" (optional)
   updatedAt: "YYYY-MM-DD" (optional)
   ---
   ```
3. Write content in MDX format
4. Blog post will be automatically picked up by Fumadocs

## Modifying Site Content

**Personal Information:** Edit `src/lib/site-config.ts`

**Homepage Sections:** Edit `src/features/home/data/home-data.ts`

**Navigation:** Edit `src/features/global/config/navigation.ts`

**Styling/Theme:** Modify CSS variables in `src/app/globals.css`

## Important Notes

- Never manually edit files in `.source/` or `.next/` directories
- Biome is used instead of ESLint/Prettier - use `pnpm lint` and `pnpm format`
- Blog posts must be in MDX format with proper frontmatter
- OG images are generated dynamically - no need to create static files
- The project uses pnpm, not npm or yarn
